(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49aacc90"],{"27ca":function(e,t,a){"use strict";a("c1b3")},"3c18":function(e,t,a){"use strict";a("4a23")},"4a23":function(e,t,a){},"79d9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap setting-wrap"},[a("navigation",{attrs:{userId:e.currentUser.id}}),a("div",{staticClass:"setting"},[e._m(0),a("div",{staticClass:"container"},[a("form",{attrs:{action:""},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"account"}},[e._v("帳號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{id:"account",name:"account",type:"text",placeholder:"請輸入帳號",required:"",autofocus:""},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}}),a("div",{staticClass:"input-bottomline"})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"name"}},[e._v("名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",name:"name",type:"text",placeholder:"請輸入使用者名稱",required:"",autofocus:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("div",{staticClass:"input-bottomline"})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",name:"email",type:"email",placeholder:"請輸入Email",required:"",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("div",{staticClass:"input-bottomline"})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"password"}},[e._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",name:"password",type:"password",placeholder:"請設定密碼",autofocus:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("div",{staticClass:"input-bottomline"})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"passwordCheck"}},[e._v("密碼再確認")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordCheck,expression:"passwordCheck"}],attrs:{id:"passwordCheck",name:"passwordCheck",type:"password",placeholder:"請再次輸入密碼",autofocus:""},domProps:{value:e.passwordCheck},on:{input:function(t){t.target.composing||(e.passwordCheck=t.target.value)}}}),a("div",{staticClass:"input-bottomline"})]),e._m(1)])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setting-title"},[a("h4",[e._v("帳戶設定")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn setting-save active",attrs:{type:"submit"}},[a("p",[e._v("儲存")])])}],n=a("1da1"),i=a("5530"),o=(a("96cf"),a("b0c0"),a("3d01")),c=a("7696"),u=a("2f62"),l=a("2fa3"),p={name:"setting",components:{navigation:o["a"]},data:function(){return{user:{id:0},account:"",name:"",email:"",password:"",passwordCheck:"",isProcessing:!1}},computed:Object(i["a"])({},Object(u["b"])(["currentUser"])),methods:{fetchData:function(){this.account=this.currentUser.account,this.name=this.currentUser.name,this.email=this.currentUser.email},handleSubmit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.password===e.passwordCheck){t.next=4;break}return l["a"].fire({icon:"warning",title:"密碼沒輸入，或者密碼跟再確認密碼不同"}),t.abrupt("return");case 4:if(!(e.name.length>50)){t.next=7;break}return l["a"].fire({icon:"warning",title:"名字不能超過50字"}),t.abrupt("return");case 7:return e.isProcessing=!0,t.next=10,c["a"].updateUser(e.currentUser.id,{name:e.name,account:e.account,email:e.email,password:e.password,introduction:e.currentUser.introduction,avatar:e.currentUser.avatar,cover:e.currentUser.cover});case 10:l["a"].fire({icon:"success",title:"儲存成功"}),t.next=24;break;case 13:if(t.prev=13,t.t0=t["catch"](0),console.log(t.t0),"Error: Account has already been taken."!==t.t0.response.data.message){t.next=19;break}return l["a"].fire({icon:"error",title:"此帳號已有人用過"}),t.abrupt("return");case 19:if("Error: Email has already been taken."!==t.t0.response.data.message){t.next=22;break}return l["a"].fire({icon:"error",title:"此Email已有人用過"}),t.abrupt("return");case 22:l["a"].fire({icon:"error",title:"發生錯誤"}),e.isProcessing=!1;case 24:case"end":return t.stop()}}),t,null,[[0,13]])})))()}},created:function(){var e=localStorage.getItem("token");e||(l["a"].fire({icon:"warning",title:"請登入"}),this.$router.push("/login")),this.fetchData()}},m=p,d=(a("3c18"),a("27ca"),a("2877")),v=Object(d["a"])(m,r,s,!1,null,"a54a7624",null);t["default"]=v.exports},c1b3:function(e,t,a){}}]);
//# sourceMappingURL=chunk-49aacc90.141fda86.js.map