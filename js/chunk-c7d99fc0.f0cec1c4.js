(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7d99fc0"],{"2c83":function(t,e,n){},"6e45":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-admin"},[t._m(0),n("div",{staticClass:"nav-admin-btn-group"},[n("router-link",{staticClass:"nav-admin-btn",attrs:{to:"/admin/adminTweetList"}},[n("div",{staticClass:"nav-admin-btn-img nav-admin-btn-home-img"}),n("h5",[t._v("推文清單")])]),n("router-link",{staticClass:"nav-admin-btn",attrs:{to:"/admin/adminUsers"}},[n("div",{staticClass:"nav-admin-btn-img nav-admin-btn-user-img"}),n("h5",[t._v("使用者列表")])])],1),n("div",{staticClass:"nav-admin-btn-group-bottom"},[n("div",{staticClass:"nav-admin-btn-group btn-bottom",on:{click:t.logOut}},[n("router-link",{staticClass:"nav-admin-btn",attrs:{to:"/admin"}},[n("div",{staticClass:"nav-admin-btn-img nav-admin-btn-left-img"}),n("h5",[t._v("登出")])])],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:n("9d64"),alt:""}})])}],i=n("2fa3"),r={methods:{logOut:function(){localStorage.removeItem("token"),i["a"].fire({icon:"success",title:"成功登出"})}}},c=r,o=(n("b9dc"),n("2877")),d=Object(o["a"])(c,a,s,!1,null,"4191da52",null);e["a"]=d.exports},ae49:function(t,e,n){"use strict";n("2c83")},b9dc:function(t,e,n){"use strict";n("c40b")},be6c:function(t,e,n){"use strict";var a=n("2fa3"),s=function(){return localStorage.getItem("token")};e["a"]={signInAdmin:function(t){var e=t.account,n=t.password;return a["b"].post("/api/admin/users",{account:e,password:n})},getUsersAdmin:function(){return a["b"].get("/api/admin/users",{headers:{Authorization:"Bearer ".concat(s())}})},getTweetsAdmin:function(){return a["b"].get("/api/admin/tweets",{headers:{Authorization:"Bearer ".concat(s())}})},deleteTweetsAdmin:function(t){return a["b"].delete("/api/admin/tweets/".concat(t),{headers:{Authorization:"Bearer ".concat(s())}})}}},c40b:function(t,e,n){},d1bd:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADbSURBVHgB7ZSxDYMwEEXvCNmDVdiEkjIbRNkgJSWbZBX2CNGFs4UE5mx/aGj4Eo3x/0+Y7yO6dLY4XGjbR0VUNkRj33XvgQClPMV2e9kw05P5/vHGfLjuVY+HrGUAxp5IhumpcpA5XPd6j3rX4rjxNhl5MvIg8q3DTw/DRX61daQmIAdBw5OAGMSZwPAswIL4VSwcAmwhDgCFqwqCVRyygUe0rKKzVbF27QJYbXGmTIUhQKqKyD1JApCeoxA+Er4HYg47tOf6zv8XP7vgYSdCL7TnM0Q91rC7dL7+YrvsGpz6fA8AAAAASUVORK5CYII="},d33f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("navigationAdmin"),a("div",{staticClass:"tweet-list"},[t._m(0),a("div",{staticClass:"tweet-list-warp"},t._l(t.tweets,(function(e){return a("div",{key:e.id,staticClass:"tweet-list-card"},[a("div",{staticClass:"tweet-list-avatar"},[a("img",{attrs:{src:t._f("emptyAvatar")(e.User.avatar),alt:""}})]),a("div",{staticClass:"tweet-list-content"},[a("div",{staticClass:"tweet-list-title"},[a("div",{staticClass:"tweet-list-name-group"},[a("p",{staticClass:"tweet-list-name"},[a("b",[t._v(t._s(e.User.name))])]),a("p",{staticClass:"tweet-list-account fz14"},[t._v("@"+t._s(e.User.account)+"・"+t._s(t._f("fromNow")(e.createdAt))+" ")])]),a("div",{staticClass:"tweet-list-delete",on:{click:function(n){return t.deleteTweet(e.id)}}},[a("img",{attrs:{src:n("d1bd"),alt:""}})])]),a("div",{staticClass:"tweet-list-text"},[a("p",[t._v(" "+t._s(t._f("partOfContents")(e.description))+" ")])])])])})),0)])],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tweet-list-title"},[n("h4",[t._v("推文清單")])])}],i=n("1da1"),r=(n("4de4"),n("d3b7"),n("96cf"),n("6e45")),c=n("2708"),o=n("be6c"),d=n("2fa3"),l={name:"adminTweetList",components:{navigationAdmin:r["a"]},data:function(){return{tweets:[]}},methods:{fetchTweets:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].getTweetsAdmin();case 3:n=e.sent,t.tweets=n.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteTweet:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o["a"].deleteTweetsAdmin(t);case 3:e.tweets=e.tweets.filter((function(e){return e.id!==t})),d["a"].fire({icon:"success",title:"成功刪除"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},filters:{partOfContents:function(t){return t.length>50?t.substr(0,50)+"...":t}},created:function(){this.fetchTweets()},mixins:[c["b"],c["a"]]},u=l,m=(n("ae49"),n("2877")),v=Object(m["a"])(u,a,s,!1,null,"62874b1c",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-c7d99fc0.f0cec1c4.js.map